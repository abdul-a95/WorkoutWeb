{%  extends 'workoutweb/base.html' %}


{%  block body_block %}
      <div>
      {% if post %}
          {% if liked %}
            <b>Post has been liked! Thanks for your feedback!!</b>
          {% endif %}
          <h1>{{ post.title }}</h1>
          <ul>{{ post.content }} </ul>
          {% if liked %}
          {% else %}
            {% if user.is_authenticated %}
              <form action="/workoutweb/category/{{ post.category.slug }}/{{ post.slug }}/liked/" method="post">
                {% csrf_token %}
              <button type="submit" value="preview" name="Preview">Like</button>
            {% endif %}
          {% endif %}
        </form>
          <h2>Comment Section</h2>
         {% if comments %}
                    {% for comment in post.comments.all %}
                        {% if comment.user %}
                            <h3>{{ comment.user }}</h3>
                        {% else %}
                            <h3>Anonymous</h3>
                        {% endif %}
                        <ul>{{ comment.content }} </ul>
                    {% endfor %}
         {% else %}
             <strong>No comments, be the first to reply!</strong>
         {% endif %}
          <form id="comment_form" method="post" action="/workoutweb/category/{{ post.category.slug }}/{{ post.slug }}/">
                {% csrf_token %}
                {% for hidden in form.hidden_fields %}
                    {{ hidden }}
                {% endfor %}
                {% for field in form.visible_fields %}
                    {{ field.errors }}
                    {{ field.help_text }}
                    {{ field }}
                {% endfor %}
               <input type="submit" name="submit" value="Create Comment" />
          </form>

     {% else %}
         The specified post does not exist!
     {% endif %}
     </div>

{% endblock %}